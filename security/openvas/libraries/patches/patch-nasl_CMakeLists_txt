$OpenBSD$
--- nasl/CMakeLists.txt.orig	Thu Jul 31 07:40:12 2014
+++ nasl/CMakeLists.txt	Wed Oct 29 22:56:48 2014
@@ -33,9 +33,9 @@ endif (POLICY CMP0015)
 
 ## Library
 
-set (HARDENING_FLAGS            "-Wformat -Wformat-security -O2 -D_FORTIFY_SOURCE=2 -fstack-protector -Wl,-z,relro -Wl,-z,now")
+set (HARDENING_FLAGS            "-Wformat -Wformat-security -O2 -D_FORTIFY_SOURCE=2 -fstack-protector")
 
-set (CMAKE_C_FLAGS_DEBUG        "${CMAKE_C_FLAGS_DEBUG} -Werror")
+set (CMAKE_C_FLAGS_DEBUG        "${CMAKE_C_FLAGS_DEBUG} ")
 # The "-D_FILE_OFFSET_BITS=64 -DLARGEFILE_SOURCE=1" is necessary for GPGME!
 # The "-fno-strict-aliasing" silences warnings caused by macros defined in byteorder.h.
 # Once the warnings have been addressed this flag should be removed.
@@ -132,7 +132,7 @@ if (BUILD_STATIC)
   add_executable (openvas-nasl nasl.c)
   target_link_libraries (openvas-nasl openvas_misc_static openvas_nasl_static
     openvas_base_static ${GLIB_LDFLAGS} -lgcrypt
-    "${GPGME_LDFLAGS}" -lgnutls "${PCAP_LDFLAGS}" -lresolv -lm ${WMI_LIBS}
+    "${GPGME_LDFLAGS}" -lgnutls "${PCAP_LDFLAGS}" -lm ${WMI_LIBS}
     ${GPGME_LDFLAGS} ${LIBSSH_LDFLAGS} ${KSBA_LDFLAGS} ${WINCMD_LIBS}) 
   set_target_properties (openvas-nasl PROPERTIES COMPILE_FLAGS
     "${GLIB_CFLAGS} ${GPGME_CFLAGS} ${LIBSSH_CFLAGS} ${KSBA_CFLAGS}")
@@ -141,7 +141,7 @@ if (BUILD_SHARED)
   add_executable (openvas-nasl nasl.c)
   target_link_libraries (openvas-nasl openvas_misc_shared openvas_nasl_shared
     openvas_base_shared ${GLIB_LDFLAGS} -lgcrypt
-    "${GPGME_LDFLAGS}" -lgnutls "${PCAP_LDFLAGS}" -lresolv -lm ${WMI_LIBS}
+    "${GPGME_LDFLAGS}" -lgnutls "${PCAP_LDFLAGS}" -lm ${WMI_LIBS}
     ${GPGME_LDFLAGS} ${LIBSSH_LDFLAGS} ${KSBA_LDFLAGS} ${WINCMD_LIBS}) 
   set_target_properties (openvas-nasl PROPERTIES COMPILE_FLAGS
     "${GLIB_CFLAGS} ${GPGME_CFLAGS} ${LIBSSH_CFLAGS} ${KSBA_CFLAGS}")
@@ -152,7 +152,7 @@ if (BUILD_STATIC)
   add_executable (openvas-nasl-lint nasl-lint.c)
   target_link_libraries (openvas-nasl-lint openvas_misc_static openvas_nasl_static
     openvas_base_static ${GLIB_LDFLAGS} -lgcrypt
-    "${GPGME_LDFLAGS}" -lgnutls "${PCAP_LDFLAGS}" -lresolv -lm ${WMI_LIBS}
+    "${GPGME_LDFLAGS}" -lgnutls "${PCAP_LDFLAGS}" -lm ${WMI_LIBS}
     ${GPGME_LDFLAGS} ${LIBSSH_LDFLAGS} ${KSBA_LDFLAGS} ${WINCMD_LIBS}) 
   set_target_properties (openvas-nasl-lint PROPERTIES COMPILE_FLAGS
     "${GLIB_CFLAGS} ${GPGME_CFLAGS} ${LIBSSH_CFLAGS} ${KSBA_CFLAGS}")
@@ -161,7 +161,7 @@ if (BUILD_SHARED)
   add_executable (openvas-nasl-lint nasl-lint.c)
   target_link_libraries (openvas-nasl-lint openvas_misc_shared openvas_nasl_shared
     openvas_base_shared ${GLIB_LDFLAGS} -lgcrypt
-    "${GPGME_LDFLAGS}" -lgnutls "${PCAP_LDFLAGS}" -lresolv -lm ${WMI_LIBS}
+    "${GPGME_LDFLAGS}" -lgnutls "${PCAP_LDFLAGS}" -lm ${WMI_LIBS}
     ${GPGME_LDFLAGS} ${LIBSSH_LDFLAGS} ${KSBA_LDFLAGS} ${WINCMD_LIBS}) 
   set_target_properties (openvas-nasl-lint PROPERTIES COMPILE_FLAGS
     "${GLIB_CFLAGS} ${GPGME_CFLAGS} ${LIBSSH_CFLAGS} ${KSBA_CFLAGS}")
