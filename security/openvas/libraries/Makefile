# $OpenBSD$

COMMENT =		libraries for OpenVAS security scanner
DISTNAME =		openvas-libraries-7.0.4

SHARED_LIBS =		openvas_base    0.17 \
                        openvas_misc    0.17 \
                        openvas_nasl    0.17 \
                        openvas_omp     0.17 # 

WANTLIB +=		assuan c gcrypt gio-2.0 glib-2.0 gnutls gobject-2.0
WANTLIB +=		gpg-error gpgme lber ldap m pcap pthread uuid z

LIB_DEPENDS +=		security/libgcrypt \
			devel/glib2 \
			databases/openldap,-main \
			security/gnutls \
                        security/gpgme \
                        security/libassuan \
			security/libgpg-error \
			sysutils/e2fsprogs

BUILD_DEPENDS +=	devel/bison

MASTER_SITES =		${MASTER_SITES_OPENVAS:=1722/}

#CONFIGURE_STYLE =	gnu
#CONFIGURE_ARGS +=	--localstatedir="/var" \
#			--includedir="/usr/local/include" \
#			LDFLAGS="-L /usr/local/lib" \
#			 --sharedstatedir="/var" \
#			 --enable-bpf-sharing \
#			 --enable-shared

CFLAGS = 		-I /usr/local/include

SEPARATE_BUILD =	No

#  remove patch files left in source tarball
pre-patch:
	@find ${WRKSRC} \( -name "*.orig" -or -name "*.rej" \) -exec rm {} \;

.include <bsd.port.mk>
