The only port in tree depending on libraw is shotwell. It needs a patch.


Index: Makefile
===================================================================
RCS file: /cvs/ports/graphics/shotwell/Makefile,v
retrieving revision 1.15
diff -u -r1.15 Makefile
--- Makefile	12 Oct 2011 07:57:29 -0000	1.15
+++ Makefile	7 Nov 2011 16:57:50 -0000
@@ -3,7 +3,7 @@
 COMMENT =	digital photo organizer
 
 DISTNAME =	shotwell-0.11.1
-REVISION=	1
+REVISION=	2
 CATEGORIES =	graphics
 MASTER_SITES =	http://yorba.org/download/shotwell/0.11/
 HOMEPAGE =	http://yorba.org/shotwell/
@@ -22,7 +22,7 @@
 WANTLIB += gobject-2.0 gphoto2 gphoto2_port gstbase-0.10 gstpbutils-0.10
 WANTLIB += gstreamer-0.10 gthread-2.0 gtk-x11-2.0 m pango-1.0
 WANTLIB += pangocairo-1.0 pangoft2-1.0 pixman-1 png pthread pthread-stubs
-WANTLIB += soup-2.4 sqlite3 stdc++ unique-1.0 usb webkitgtk-1.0
+WANTLIB += raw soup-2.4 sqlite3 stdc++ unique-1.0 usb webkitgtk-1.0
 WANTLIB += xcb xcb-render xcb-shm xml2 z gconf-2
 
 MODULES =	devel/dconf devel/gettext x11/gnome
Index: patches/patch-Makefile
===================================================================
RCS file: /cvs/ports/graphics/shotwell/patches/patch-Makefile,v
retrieving revision 1.6
diff -u -r1.6 patch-Makefile
--- patches/patch-Makefile	12 Sep 2011 18:22:19 -0000	1.6
+++ patches/patch-Makefile	7 Nov 2011 16:57:50 -0000
@@ -57,11 +57,11 @@
  
  $(EXPANDED_OBJ_FILES): %.o: %.c $(CONFIG_IN) Makefile
 -	$(CC) -c $(VALA_CFLAGS) `$(LIBRAW_CONFIG) --cflags` $(CFLAGS) -o $@ $<
-+	$(CC) -c $(VALA_CFLAGS) `pkg-config --cflags raw` $(CFLAGS) -o $@ $<
++	$(CC) -c $(VALA_CFLAGS) `pkg-config --cflags libraw` $(CFLAGS) -o $@ $<
  
  $(PROGRAM): $(EXPANDED_OBJ_FILES) $(RESOURCES) $(LANG_STAMP) $(THUMBNAILER_BIN)
 -	$(CC) $(EXPANDED_OBJ_FILES) $(CFLAGS) $(RESOURCES) $(VALA_LDFLAGS) `$(LIBRAW_CONFIG) --libs` $(EXPORT_FLAGS) -o $@
-+	$(CC) $(EXPANDED_OBJ_FILES) $(CFLAGS) $(RESOURCES) $(VALA_LDFLAGS) `pkg-config --libs raw` $(EXPORT_FLAGS) -o $@
++	$(CC) $(EXPANDED_OBJ_FILES) $(CFLAGS) $(RESOURCES) $(VALA_LDFLAGS) `pkg-config --libs libraw` $(EXPORT_FLAGS) -o $@
  	glib-compile-schemas misc
  
  $(THUMBNAILER_BIN): $(EXPANDED_THUMBNAILER_SRC_FILES)
@@ -70,7 +70,7 @@
  
  lib$(PROGRAM).so: $(EXPANDED_OBJ_FILES) $(RESOURCES) $(LANG_STAMP)
 -	$(CC) $(EXPANDED_OBJ_FILES) $(CFLAGS) $(RESOURCES) $(VALA_LDFLAGS) `$(LIBRAW_CONFIG) --libs` $(EXPORT_FLAGS) -shared -o $@
-+	$(CC) $(EXPANDED_OBJ_FILES) $(CFLAGS) $(RESOURCES) $(VALA_LDFLAGS) `pkg-config --libs raw` $(EXPORT_FLAGS) -shared -o $@
++	$(CC) $(EXPANDED_OBJ_FILES) $(CFLAGS) $(RESOURCES) $(VALA_LDFLAGS) `pkg-config --libs libraw` $(EXPORT_FLAGS) -shared -o $@
  
  .PHONY: pkgcheck
  pkgcheck:
@@ -79,6 +79,6 @@
  endif
  # Check for libraw manually
 -	@$(LIBRAW_CONFIG) --exists=$(LIBRAW_VERSION)
-+	@pkg-config --exists raw
++	@pkg-config --exists libraw
  endif
  	@ type msgfmt > /dev/null || ( echo 'msgfmt (usually found in the gettext package) is missing and is required to build Shotwell. ' ; exit 1 )
