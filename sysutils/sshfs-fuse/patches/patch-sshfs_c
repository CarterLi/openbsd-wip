--- sshfs.c.orig	Wed Jan 16 17:16:30 2013
+++ sshfs.c	Wed Jan 16 17:17:48 2013
@@ -1543,7 +1543,7 @@ static int sftp_error_to_errno(uint32_t error)
 	case SSH_FX_NO_SUCH_FILE:      return ENOENT;
 	case SSH_FX_PERMISSION_DENIED: return EACCES;
 	case SSH_FX_FAILURE:           return EPERM;
-	case SSH_FX_BAD_MESSAGE:       return EBADMSG;
+	case SSH_FX_BAD_MESSAGE:       return ENOMSG;
 	case SSH_FX_NO_CONNECTION:     return ENOTCONN;
 	case SSH_FX_CONNECTION_LOST:   return ECONNABORTED;
 	case SSH_FX_OP_UNSUPPORTED:    return EOPNOTSUPP;
