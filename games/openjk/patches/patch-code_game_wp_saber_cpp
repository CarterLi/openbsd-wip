$OpenBSD$

strlcat

Index: code/game/wp_saber.cpp
--- code/game/wp_saber.cpp.orig
+++ code/game/wp_saber.cpp
@@ -385,15 +385,15 @@ void G_CreateG2AttachedWeaponModel( gentity_t *ent, co
 	}
 	char weaponModel[64];
 
-	strcpy (weaponModel, psWeaponModel);
+	strlcpy (weaponModel, psWeaponModel, sizeof(weaponModel));
 	if (char *spot = strstr(weaponModel, ".md3") ) {
 		*spot = 0;
 		spot = strstr(weaponModel, "_w");//i'm using the in view weapon array instead of scanning the item list, so put the _w back on
 		if (!spot&&!strstr(weaponModel, "noweap"))
 		{
-			strcat (weaponModel, "_w");
+			strlcat (weaponModel, "_w", sizeof(weaponModel));
 		}
-		strcat (weaponModel, ".glm");	//and change to ghoul2
+		strlcat (weaponModel, ".glm", sizeof(weaponModel));	//and change to ghoul2
 	}
 
 	// give us a saber model
