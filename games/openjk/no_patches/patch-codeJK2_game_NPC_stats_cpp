$OpenBSD$

strlcat

Index: codeJK2/game/NPC_stats.cpp
--- codeJK2/game/NPC_stats.cpp.orig
+++ codeJK2/game/NPC_stats.cpp
@@ -327,7 +327,7 @@ void SpewDebugStuffToFile(animation_t *bgGlobalAnimati
 
 	while (i < MAX_ANIMATIONS)
 	{
-		strcat(BGPAFtext, va("%i %i\n", i, bgGlobalAnimations[i].frameLerp));
+		strlcat(BGPAFtext, va("%i %i\n", i, bgGlobalAnimations[i].frameLerp), sizeof(BGPAFtext));
 		i++;
 	}
 
@@ -688,9 +688,9 @@ void NPC_PrecacheWeapons( team_t playerTeam, int spawn
 				*spot = 0;
 				spot = strstr(weaponModel, "_w");//i'm using the in view weapon array instead of scanning the item list, so put the _w back on
 				if (!spot) {
-					strcat (weaponModel, "_w");
+					strlcat (weaponModel, "_w", sizeof(weaponModel));
 				}
-				strcat (weaponModel, ".glm");	//and change to ghoul2
+				strlcat (weaponModel, ".glm", sizeof(weaponModel));	//and change to ghoul2
 			}
 			gi.G2API_PrecacheGhoul2Model( weaponModel ); // correct way is item->world_model
 		}
@@ -2264,7 +2264,7 @@ void NPC_LoadParms( void )
 			if ( totallen + len >= MAX_NPC_DATA_SIZE ) {
 				G_Error( "NPC extensions (*.npc) are too large" );
 			}
-			strcat( marker, buffer );
+			strlcat( marker, buffer , sizeof(marker));
 			gi.FS_FreeFile( buffer );
 
 			totallen += len;
