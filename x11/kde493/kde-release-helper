#!/bin/sh
#
# Working directory: /var/kde4up/${PKGNAME:C/-[0-9].*//}/${VERSION???}
# Files:
#   ${step}.done
#   ${step}.log
#
# TODO: MULTI_PACKAGES
#
# for each dep in: [none] libs pimlibs runtime pimruntime
#   for each pkg with dep
#     new-window in tmux; run commands via set-buffer, paste-buffer?
#     switch step
#       step 1=configure
#         make makesum
#         make patch
#         make configure
#         mark step done
#         if previous log exists and does not differ, go to step 2
#           (N.B.: ignore library versions changes and such)
#         break
#       step 2=plist
#         rm -f pkg/PLIST*.orig
#         make update-plist
#         fix plist (FLAVORS => MODKDE4_CMAKE_PREFIX, etc.)
#         ignore l10n and such
#         mark step done
#         if nothing interesting was left, go to step 3
#         break
#       step 3=port-depends
#         make port-lib-depends-check
#         mark step done
#         if nothing changed, go to step 4
#         break
#       step 4=lib-depends
#         make lib-depends-check
#         mark step done
#         if nothing changed, go to step 5
#         break
#       step 5=install
#         make install
#         mark step done
#     end switch
#

usage() {
	echo "usage: $0 useflag" >&2
}

test $# -ge 1 || usage
USEFLAG=$1; shift

