$OpenBSD$
--- lib/libv4l1/libv4l1.c.orig	Fri Jun 28 22:10:56 2013
+++ lib/libv4l1/libv4l1.c	Tue May  5 06:45:47 2015
@@ -58,7 +58,11 @@
 #include <sys/types.h>
 #include <sys/mman.h>
 #include "../libv4lconvert/libv4lsyscall-priv.h"
+#if defined(__OpenBSD__)
+#include <sys/videoio.h>
+#else
 #include <linux/videodev2.h>
+#endif
 #include <libv4l2.h>
 #include "libv4l1.h"
 #include "libv4l1-priv.h"
@@ -518,8 +522,8 @@ int v4l1_ioctl(int fd, unsigned long int request, ...)
 		if (result < 0)
 			break;
 
-		if (cap2.capabilities & V4L2_CAP_DEVICE_CAPS)
-			cap2.capabilities = cap2.device_caps;
+		/* if (cap2.capabilities & V4L2_CAP_DEVICE_CAPS)
+			cap2.capabilities = cap2.device_caps; */
 		if (cap2.capabilities & V4L2_CAP_VIDEO_OVERLAY) {
 			result = v4l2_ioctl(fd, VIDIOC_G_FBUF, &fbuf);
 			if (result < 0)
