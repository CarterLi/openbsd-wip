$OpenBSD$
--- tests/core/log.cc.orig	Tue Aug 30 01:19:39 2011
+++ tests/core/log.cc	Fri Jun 21 00:21:19 2013
@@ -21,7 +21,7 @@
 *******************************************************************************/
 
 #include <pthread.h>
-#if defined(__FreeBSD__)
+#if defined(__FreeBSD__) || defined(__OpenBSD__)
 #include <sys/types.h>
 #endif
 
@@ -43,6 +43,8 @@ unsigned int current_thread ()
     return static_cast<unsigned int>(pthread_self ());
 #elif defined (__NetBSD__)
     return reinterpret_cast<unsigned int>(pthread_self ());
+#elif defined (__OpenBSD__)
+    return reinterpret_cast<unsigned long>(pthread_self ());
 #elif defined (__FreeBSD__)
     return reinterpret_cast<uintptr_t>(pthread_self ());
 #else
