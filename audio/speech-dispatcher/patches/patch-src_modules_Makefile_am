$OpenBSD$
--- src/modules/Makefile.am.orig	Fri Sep 10 12:23:55 2010
+++ src/modules/Makefile.am	Wed Oct 12 02:29:12 2011
@@ -29,31 +29,33 @@ modulebin_PROGRAMS += sd_ivona
 endif
 
 sd_flite_SOURCES = flite.c module_utils.c module_utils.h
-sd_flite_LDFLAGS = @RPATH@ '$(spdlibdir)'
-sd_flite_LDADD = -lsdaudio $(flite_kal) $(flite_basic) -lpthread -ldotconf @glib_libs@ @gthread_libs@
+sd_flite_LDFLAGS = @RPATH@ '$(spdlibdir)' -pthread
+sd_flite_LDADD = -lsdaudio $(flite_kal) $(flite_basic) -ldotconf @glib_libs@ @gthread_libs@
 
 sd_generic_SOURCES = generic.c module_utils.c module_utils.h
-sd_generic_LDADD = -lsdaudio -lpthread -ldotconf @glib_libs@ @gthread_libs@
+sd_generic_LDFLAGS = -pthread
+sd_generic_LDADD = -lsdaudio -ldotconf @glib_libs@ @gthread_libs@
 
 sd_festival_SOURCES = festival.c module_utils.c
-sd_festival_LDFLAGS = @RPATH@ '$(spdlibdir)'
-sd_festival_LDADD = -lsdaudio -lpthread -ldotconf @glib_libs@ @gthread_libs@ @EXTRA_SOCKET_LIBS@
+sd_festival_LDFLAGS = @RPATH@ '$(spdlibdir)' -pthread
+sd_festival_LDADD = -lsdaudio -ldotconf @glib_libs@ @gthread_libs@ @EXTRA_SOCKET_LIBS@
 
 sd_ibmtts_SOURCES = ibmtts.c module_utils.c module_utils.h
-sd_ibmtts_LDFLAGS = @RPATH@ '$(spdlibdir)'
-sd_ibmtts_LDADD = -lsdaudio -lm -lpthread -ldotconf -libmeci @SNDFILE_LIBS@ @glib_libs@ @gthread_libs@
+sd_ibmtts_LDFLAGS = @RPATH@ '$(spdlibdir)' -pthread
+sd_ibmtts_LDADD = -lsdaudio -lm -ldotconf -libmeci @SNDFILE_LIBS@ @glib_libs@ @gthread_libs@
 
 sd_cicero_SOURCES = cicero.c module_utils.c module_utils.h
-sd_cicero_LDADD = -lsdaudio -lpthread -ldotconf @glib_libs@ @gthread_libs@
+sd_cicero_LDFLAGS = -pthread
+sd_cicero_LDADD = -lsdaudio -ldotconf @glib_libs@ @gthread_libs@
 
 sd_espeak_SOURCES = espeak.c module_utils.c module_utils.h
 sd_espeak_LDFLAGS = @RPATH@ '$(spdlibdir)'
 sd_espeak_LDADD = -lsdaudio -lespeak -ldotconf @glib_libs@ @SNDFILE_LIBS@ @gthread_libs@ @EXTRA_ESPEAK_LIBS@
 
 sd_ivona_SOURCES = ivona.c module_utils.c module_utils.h
-sd_ivona_LDFLAGS = @RPATH@ '$(spdlibdir)'
-sd_ivona_LDADD = -lsdaudio -ldumbtts -lpthread -ldotconf @glib_libs@ @SNDFILE_LIBS@ @gthread_libs@
+sd_ivona_LDFLAGS = @RPATH@ '$(spdlibdir)' -pthread
+sd_ivona_LDADD = -lsdaudio -ldumbtts -ldotconf @glib_libs@ @SNDFILE_LIBS@ @gthread_libs@
 
 sd_dummy_SOURCES = dummy.c module_utils.c module_utils.h
-sd_dummy_LDFLAGS = @RPATH@ '$(spdlibdir)'
-sd_dummy_LDADD = -lsdaudio -lpthread -ldotconf @glib_libs@ @SNDFILE_LIBS@ @gthread_libs@
+sd_dummy_LDFLAGS = @RPATH@ '$(spdlibdir)' -pthread
+sd_dummy_LDADD = -lsdaudio -ldotconf @glib_libs@ @SNDFILE_LIBS@ @gthread_libs@
